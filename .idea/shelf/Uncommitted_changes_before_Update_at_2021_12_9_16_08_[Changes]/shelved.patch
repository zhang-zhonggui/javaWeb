Index: src/com/zzg/day03/test/AddStudentServlet.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.zzg.day03.test;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\n\r\n/**\r\n * @Author: zzg\r\n * @Description: TODO\r\n * @DateTime: 2021/11/27 9:58\r\n */\r\n@WebServlet(\"/addstu\")\r\npublic class AddStudentServlet extends HttpServlet {\r\n    @Override\r\n    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        req.setCharacterEncoding(\"utf-8\");\r\n        String name = req.getParameter(\"name\");\r\n        String age = req.getParameter(\"age\");\r\n        String address = req.getParameter(\"address\");\r\n        String sql = \"insert  into student values (null ,?,?,?)\";\r\n\r\n        try {\r\n            Class.forName(\"com.mysql.cj.jdbc.Driver\");\r\n            Connection conn = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/hehe\", \"root\", \"1012\");\r\n            PreparedStatement ps = conn.prepareStatement(sql);\r\n            ps.setObject(1, name);\r\n            ps.setObject(2,age);\r\n            ps.setObject(3,address);\r\n           int  i = ps.executeUpdate();\r\n            req.setAttribute(\"code\",i);\r\n            req.getRequestDispatcher(\"addstu.jsp\").forward(req, resp);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/com/zzg/day03/test/AddStudentServlet.java b/src/com/zzg/day03/test/AddStudentServlet.java
--- a/src/com/zzg/day03/test/AddStudentServlet.java	
+++ b/src/com/zzg/day03/test/AddStudentServlet.java	
@@ -1,14 +1,13 @@
 package com.zzg.day03.test;
 
+import com.zzg.day03.util.DAOUtil;
+
 import javax.servlet.ServletException;
 import javax.servlet.annotation.WebServlet;
 import javax.servlet.http.HttpServlet;
 import javax.servlet.http.HttpServletRequest;
 import javax.servlet.http.HttpServletResponse;
 import java.io.IOException;
-import java.sql.Connection;
-import java.sql.DriverManager;
-import java.sql.PreparedStatement;
 
 /**
  * @Author: zzg
@@ -25,19 +24,11 @@
         String address = req.getParameter("address");
         String sql = "insert  into student values (null ,?,?,?)";
 
-        try {
-            Class.forName("com.mysql.cj.jdbc.Driver");
-            Connection conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/hehe", "root", "1012");
-            PreparedStatement ps = conn.prepareStatement(sql);
-            ps.setObject(1, name);
-            ps.setObject(2,age);
-            ps.setObject(3,address);
-           int  i = ps.executeUpdate();
-            req.setAttribute("code",i);
-            req.getRequestDispatcher("addstu.jsp").forward(req, resp);
-        } catch (Exception e) {
-            e.printStackTrace();
-        }
+
+        int i = DAOUtil.update(sql, name, age, address, sql);
+        req.setAttribute("code", i);
+        req.getRequestDispatcher("addstu.jsp").forward(req, resp);
+
 
     }
 }
Index: src/com/zzg/day03/test/UpdataStuServlet.java
===================================================================
diff --git a/src/com/zzg/day03/test/UpdataStuServlet.java b/src/com/zzg/day03/test/UpdateStuServlet.java
rename from src/com/zzg/day03/test/UpdataStuServlet.java
rename to src/com/zzg/day03/test/UpdateStuServlet.java
--- a/src/com/zzg/day03/test/UpdataStuServlet.java	
+++ b/src/com/zzg/day03/test/UpdateStuServlet.java	
@@ -1,14 +1,13 @@
 package com.zzg.day03.test;
 
+import com.zzg.day03.util.DAOUtil;
+
 import javax.servlet.ServletException;
 import javax.servlet.annotation.WebServlet;
 import javax.servlet.http.HttpServlet;
 import javax.servlet.http.HttpServletRequest;
 import javax.servlet.http.HttpServletResponse;
 import java.io.IOException;
-import java.sql.Connection;
-import java.sql.DriverManager;
-import java.sql.PreparedStatement;
 
 /**
  * @Author: zzg
@@ -16,7 +15,7 @@
  * @DateTime: 2021/11/27 9:58
  */
 @WebServlet("/updataStu")
-public class UpdataStuServlet extends HttpServlet {
+public class UpdateStuServlet extends HttpServlet {
     @Override
     protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
         req.setCharacterEncoding("utf-8");
@@ -24,21 +23,11 @@
         String age = req.getParameter("age");
         String address = req.getParameter("address");
         String id = req.getParameter("id");
+
         String sql = "update student set sname=?,sage=?,saddress=? where id=?";
 
-        try {
-            Class.forName("com.mysql.cj.jdbc.Driver");
-            Connection conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/hehe", "root", "1012");
-            PreparedStatement ps = conn.prepareStatement(sql);
-            ps.setObject(1, name);
-            ps.setObject(2,age);
-            ps.setObject(3,address);
-            ps.setObject(4,id);
-            int  i = ps.executeUpdate();
-            resp.sendRedirect("/javaWeb/s");
-        } catch (Exception e) {
-            e.printStackTrace();
-        }
+        int i = DAOUtil.update(sql, name, age, address, id);
+        resp.sendRedirect("/javaWeb/s");
 
     }
 }
Index: .idea/inspectionProfiles/Project_Default.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><component name=\"InspectionProjectProfileManager\">\r\n  <profile version=\"1.0\">\r\n    <option name=\"myName\" value=\"Project Default\" />\r\n    <inspection_tool class=\"JavaDoc\" enabled=\"true\" level=\"WARNING\" enabled_by_default=\"true\">\r\n      <option name=\"TOP_LEVEL_CLASS_OPTIONS\">\r\n        <value>\r\n          <option name=\"ACCESS_JAVADOC_REQUIRED_FOR\" value=\"none\" />\r\n          <option name=\"REQUIRED_TAGS\" value=\"\" />\r\n        </value>\r\n      </option>\r\n      <option name=\"INNER_CLASS_OPTIONS\">\r\n        <value>\r\n          <option name=\"ACCESS_JAVADOC_REQUIRED_FOR\" value=\"none\" />\r\n          <option name=\"REQUIRED_TAGS\" value=\"\" />\r\n        </value>\r\n      </option>\r\n      <option name=\"METHOD_OPTIONS\">\r\n        <value>\r\n          <option name=\"ACCESS_JAVADOC_REQUIRED_FOR\" value=\"none\" />\r\n          <option name=\"REQUIRED_TAGS\" value=\"@return@param@throws or @exception\" />\r\n        </value>\r\n      </option>\r\n      <option name=\"FIELD_OPTIONS\">\r\n        <value>\r\n          <option name=\"ACCESS_JAVADOC_REQUIRED_FOR\" value=\"none\" />\r\n          <option name=\"REQUIRED_TAGS\" value=\"\" />\r\n        </value>\r\n      </option>\r\n      <option name=\"IGNORE_DEPRECATED\" value=\"false\" />\r\n      <option name=\"IGNORE_JAVADOC_PERIOD\" value=\"true\" />\r\n      <option name=\"IGNORE_DUPLICATED_THROWS\" value=\"false\" />\r\n      <option name=\"IGNORE_POINT_TO_ITSELF\" value=\"false\" />\r\n      <option name=\"myAdditionalJavadocTags\" value=\"date\" />\r\n    </inspection_tool>\r\n  </profile>\r\n</component>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/inspectionProfiles/Project_Default.xml b/.idea/inspectionProfiles/Project_Default.xml
--- a/.idea/inspectionProfiles/Project_Default.xml	
+++ b/.idea/inspectionProfiles/Project_Default.xml	
@@ -30,7 +30,7 @@
       <option name="IGNORE_JAVADOC_PERIOD" value="true" />
       <option name="IGNORE_DUPLICATED_THROWS" value="false" />
       <option name="IGNORE_POINT_TO_ITSELF" value="false" />
-      <option name="myAdditionalJavadocTags" value="date" />
+      <option name="myAdditionalJavadocTags" value="date,Author:,Description:" />
     </inspection_tool>
   </profile>
 </component>
\ No newline at end of file
Index: src/com/zzg/day03/util/DAOUtil.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/com/zzg/day03/util/DAOUtil.java b/src/com/zzg/day03/util/DAOUtil.java
new file mode 100644
--- /dev/null	
+++ b/src/com/zzg/day03/util/DAOUtil.java	
@@ -0,0 +1,96 @@
+package com.zzg.day03.util;
+
+import java.sql.*;
+import java.util.ArrayList;
+import java.util.HashMap;
+import java.util.List;
+import java.util.Map;
+
+/**
+ * @Author: zzg
+ * @Description: 封装
+ * @DateTime: 2021/11/27 9:58
+ */
+public class DAOUtil {
+    private static final String DRIVER_CLASS_NAME = "com.mysql.cj.jdbc.Driver";
+    private static final String URL = "jdbc:mysql://localhost:3306/hehe?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC";
+    private static final String USER_NAME = "root";
+    private static final String PASSWORD = "1012";
+
+    static {
+        try {
+            //将加载驱动放在静态代码块中
+            Class.forName(DRIVER_CLASS_NAME);
+        } catch (ClassNotFoundException e) {
+            e.printStackTrace();
+        }
+    }
+
+    /**
+     * @return conn
+     * @throws Exception 第一次的封装
+     */
+
+    public static Connection getConnection() throws Exception {
+        return DriverManager.getConnection(URL, USER_NAME, PASSWORD);
+    }
+
+    public static int update(String sql, Object ... params) {
+        Connection conn = null;
+        try {
+            conn=DAOUtil.getConnection();
+            PreparedStatement ps = conn.prepareStatement(sql);
+            for (int i = 0; i < params.length; i++) {
+                ps.setObject(i + 1, params[i]);
+            }
+            int i = ps.executeUpdate();
+            return i;
+        } catch (Exception e) {
+            e.printStackTrace();
+        } finally {
+            if (conn != null) {
+                try {
+                    conn.close();
+                } catch (SQLException e) {
+                    e.printStackTrace();
+                }
+            }
+        }
+        return 0;
+    }
+
+    public static List<Map> query(String sql, Object ... params) {
+        Connection conn = null;
+        try {
+            conn=DAOUtil.getConnection();
+            PreparedStatement ps = conn.prepareStatement("sql");
+
+            for (int i = 0; i < params.length; i++) {
+                ps.setObject(i + 1, params[i]);
+            }
+
+            ResultSet rs = ps.executeQuery();
+            ResultSetMetaData md = rs.getMetaData();
+            List<Map> list = new ArrayList();
+            while (rs.next()) {
+                Map map = new HashMap();
+                for (int i = 0; i < md.getColumnCount(); i++) {
+                    map.put(md.getColumnName(i + 1), rs.getObject(i + 1));
+                }
+            }
+            return list;
+        } catch (Exception e) {
+            e.printStackTrace();
+        } finally {
+            if (conn != null) {
+                try {
+                    conn.close();
+                } catch (SQLException e) {
+                    e.printStackTrace();
+                }
+            }
+        }
+        return null;
+    }
+
+}
Index: src/com/zzg/day03/test/DelStudentServlet.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.zzg.day03.test;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\n\r\n/**\r\n * @Author: zzg\r\n * @Description: TODO\r\n * @DateTime: 2021/11/27 9:58\r\n */\r\n@WebServlet(\"/delStu\")\r\npublic class DelStudentServlet extends HttpServlet {\r\n    @Override\r\n    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        String id = req.getParameter(\"id\");\r\n        String sql = \"delete  from student where id=?\";\r\n        try {\r\n            Class.forName(\"com.mysql.cj.jdbc.Driver\");\r\n            Connection conn = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/hehe\", \"root\", \"1012\");\r\n            PreparedStatement ps = conn.prepareStatement(sql);\r\n            ps.setObject(1, id);\r\n            int i = ps.executeUpdate();\r\n            resp.sendRedirect(\"/javaWeb/s\");\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/com/zzg/day03/test/DelStudentServlet.java b/src/com/zzg/day03/test/DelStudentServlet.java
--- a/src/com/zzg/day03/test/DelStudentServlet.java	
+++ b/src/com/zzg/day03/test/DelStudentServlet.java	
@@ -1,18 +1,17 @@
 package com.zzg.day03.test;
 
+import com.zzg.day03.util.DAOUtil;
+
 import javax.servlet.ServletException;
 import javax.servlet.annotation.WebServlet;
 import javax.servlet.http.HttpServlet;
 import javax.servlet.http.HttpServletRequest;
 import javax.servlet.http.HttpServletResponse;
 import java.io.IOException;
-import java.sql.Connection;
-import java.sql.DriverManager;
-import java.sql.PreparedStatement;
 
 /**
  * @Author: zzg
- * @Description: TODO
+ * @Description: 根据数据进行删除
  * @DateTime: 2021/11/27 9:58
  */
 @WebServlet("/delStu")
@@ -21,15 +20,8 @@
     protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
         String id = req.getParameter("id");
         String sql = "delete  from student where id=?";
-        try {
-            Class.forName("com.mysql.cj.jdbc.Driver");
-            Connection conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/hehe", "root", "1012");
-            PreparedStatement ps = conn.prepareStatement(sql);
-            ps.setObject(1, id);
-            int i = ps.executeUpdate();
-            resp.sendRedirect("/javaWeb/s");
-        } catch (Exception e) {
-            e.printStackTrace();
-        }
+        int i = DAOUtil.update(sql, id);
+        resp.sendRedirect("/javaWeb/s");
+
     }
 }
Index: src/name
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>A 创建工程\r\n  file  new  project\r\n\r\nB 新工程内容\r\n  .idea文件夹   .iml 配置文件不需要管 也不需要动\r\n  src文件夹  这个文件夹是我们写代码的文件夹 也就是说 我们的代码写道src目录下\r\n\r\nC 创建一个package包\r\n  包其实就是文件夹 但是在java中还有一层含义 用来区分不同代码的全限定名\r\n  选中src  右键new  package  起名字  com.aaa.day01.test\r\n  包名命名规范： 反域名 全小写\r\n  com ：  cn  org  java   com代表公司组织 这个代码受法律保护不能随便盗用  org代表公益组织  java 是官方源代码的报名\r\n  aaa :   公司名称\r\n  day01:  项目名称\r\n  test ：  包的功能名称      com.alibaba.taobao.util 工具  com.alibaba.taobao.test 测试\r\n\r\nD 创建源文件 Xxxx.java文件\r\n  选中包 右键  new  javaclass  起名字   Haha\r\n   文件名有命名规范：  英文  有意义  大驼峰：首字母大写 如果有多个单词 每个单词的首字母都要大写
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/name b/src/name
--- a/src/name	
+++ b/src/name	
@@ -15,5 +15,5 @@
   test ：  包的功能名称      com.alibaba.taobao.util 工具  com.alibaba.taobao.test 测试
 
 D 创建源文件 Xxxx.java文件
-  选中包 右键  new  javaclass  起名字   Haha
+  选中包 右键  new  JavaClass 起名字   Haha
    文件名有命名规范：  英文  有意义  大驼峰：首字母大写 如果有多个单词 每个单词的首字母都要大写
\ No newline at end of file
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ArtifactsWorkspaceSettings\">\r\n    <artifacts-to-build>\r\n      <artifact name=\"javaWeb:war exploded\" />\r\n    </artifacts-to-build>\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"a39ec80c-00bb-4d76-85ce-aec902506157\" name=\"Changes\" comment=\"javaWeb的学习\">\r\n      <change afterPath=\"$PROJECT_DIR$/src/com/zzg/day03/test/AddStudentServlet.java\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/src/com/zzg/day03/test/GetStuServlet.java\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/src/com/zzg/day03/test/UpdataStuServlet.java\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/web/addstu.jsp\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/web/updata.jsp\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/com/zzg/day03/test/DelStudentServlet.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/com/zzg/day03/test/DelStudentServlet.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/web/stu.jsp\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/web/stu.jsp\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Jsp File\" />\r\n        <option value=\"Class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitSEFilterConfiguration\">\r\n    <file-type-list>\r\n      <filtered-out-file-type name=\"LOCAL_BRANCH\" />\r\n      <filtered-out-file-type name=\"REMOTE_BRANCH\" />\r\n      <filtered-out-file-type name=\"TAG\" />\r\n      <filtered-out-file-type name=\"COMMIT_BY_MESSAGE\" />\r\n    </file-type-list>\r\n  </component>\r\n  <component name=\"LogFilters\">\r\n    <option name=\"FILTER_ERRORS\" value=\"false\" />\r\n    <option name=\"FILTER_WARNINGS\" value=\"false\" />\r\n    <option name=\"FILTER_INFO\" value=\"true\" />\r\n    <option name=\"FILTER_DEBUG\" value=\"true\" />\r\n    <option name=\"CUSTOM_FILTER\" />\r\n  </component>\r\n  <component name=\"MarkdownSettingsMigration\">\r\n    <option name=\"stateVersion\" value=\"1\" />\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"21oagS7Qj9u30aolZO7amw5boFy\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\r\n    <property name=\"RunOnceActivity.ShowReadmeOnStart\" value=\"true\" />\r\n    <property name=\"SHARE_PROJECT_CONFIGURATION_FILES\" value=\"true\" />\r\n    <property name=\"WebServerToolWindowFactoryState\" value=\"false\" />\r\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$\" />\r\n    <property name=\"nodejs_package_manager_path\" value=\"npm\" />\r\n    <property name=\"project.structure.last.edited\" value=\"Libraries\" />\r\n    <property name=\"project.structure.proportion\" value=\"0.0\" />\r\n    <property name=\"project.structure.side.proportion\" value=\"0.0\" />\r\n    <property name=\"settings.editor.selected.configurable\" value=\"preferences.pluginManager\" />\r\n  </component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"F:\\java\\javaWeb\\web\\WEB-INF\\lib\" />\r\n    </key>\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"F:\\java\\javaWeb\\web\" />\r\n      <recent name=\"F:\\java\\javaWeb\\web\\WEB-INF\" />\r\n      <recent name=\"F:\\java\\javaWeb\\web\\WEB-INF\\lib\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"Tomcat 8.5.40\" type=\"#com.intellij.j2ee.web.tomcat.TomcatRunConfigurationFactory\" factoryName=\"Local\" APPLICATION_SERVER_NAME=\"Tomcat 8.5.40\" ALTERNATIVE_JRE_ENABLED=\"false\" nameIsGenerated=\"true\">\r\n      <option name=\"UPDATING_POLICY\" value=\"restart-server\" />\r\n      <deployment>\r\n        <artifact name=\"javaWeb:war exploded\">\r\n          <settings>\r\n            <option name=\"CONTEXT_PATH\" value=\"/javaWeb\" />\r\n          </settings>\r\n        </artifact>\r\n      </deployment>\r\n      <server-settings>\r\n        <option name=\"BASE_DIRECTORY_NAME\" value=\"0845cda9-8d7d-4e0d-9298-bcf884d74ac0\" />\r\n      </server-settings>\r\n      <predefined_log_file enabled=\"true\" id=\"Tomcat\" />\r\n      <predefined_log_file enabled=\"true\" id=\"Tomcat Catalina\" />\r\n      <predefined_log_file id=\"Tomcat Manager\" />\r\n      <predefined_log_file id=\"Tomcat Host Manager\" />\r\n      <predefined_log_file id=\"Tomcat Localhost Access\" />\r\n      <RunnerSettings RunnerId=\"Debug\">\r\n        <option name=\"DEBUG_PORT\" value=\"8129\" />\r\n      </RunnerSettings>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Cover\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Debug\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Profile\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <ConfigurationWrapper VM_VAR=\"JAVA_OPTS\" RunnerId=\"Run\">\r\n        <option name=\"USE_ENV_VARIABLES\" value=\"true\" />\r\n        <STARTUP>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </STARTUP>\r\n        <SHUTDOWN>\r\n          <option name=\"USE_DEFAULT\" value=\"true\" />\r\n          <option name=\"SCRIPT\" value=\"\" />\r\n          <option name=\"VM_PARAMETERS\" value=\"\" />\r\n          <option name=\"PROGRAM_PARAMETERS\" value=\"\" />\r\n        </SHUTDOWN>\r\n      </ConfigurationWrapper>\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n        <option name=\"BuildArtifacts\" enabled=\"true\">\r\n          <artifact name=\"javaWeb:war exploded\" />\r\n        </option>\r\n      </method>\r\n    </configuration>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"a39ec80c-00bb-4d76-85ce-aec902506157\" name=\"Changes\" comment=\"\" />\r\n      <created>1638610006823</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1638610006823</updated>\r\n      <workItem from=\"1638610007998\" duration=\"320000\" />\r\n      <workItem from=\"1638750590575\" duration=\"2863000\" />\r\n      <workItem from=\"1638770285603\" duration=\"9490000\" />\r\n      <workItem from=\"1638793157988\" duration=\"2107000\" />\r\n      <workItem from=\"1638839266686\" duration=\"6872000\" />\r\n      <workItem from=\"1638857171673\" duration=\"18308000\" />\r\n      <workItem from=\"1638883836955\" duration=\"1060000\" />\r\n      <workItem from=\"1638923072423\" duration=\"12816000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"JavaWeb的第一天\">\r\n      <created>1638753446492</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1638753446492</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"JavaWeb的第二天\">\r\n      <created>1638779879541</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1638779879541</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"生命周期的测试\">\r\n      <created>1638781815765</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1638781815765</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"生命周期的测试\">\r\n      <created>1638781834238</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1638781834238</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"javaWeb第一天\">\r\n      <created>1638793160607</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1638793160607</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"javaWeb第二天\">\r\n      <created>1638793605609</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1638793605609</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"javaWeb第三天课前的练习\">\r\n      <created>1638843205187</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1638843205187</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"javaWeb第三天课前的练习\">\r\n      <created>1638843292343</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1638843292343</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"javaWeb第三天\">\r\n      <created>1638859900059</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1638859900059</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"javaWeb第三天\">\r\n      <created>1638878067695</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1638878067695</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"javaWeb第三天\">\r\n      <created>1638884239507</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1638884239507</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"javaWeb的学习\">\r\n      <created>1638923986975</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1638923986975</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"13\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"JavaWeb的第二天\" />\r\n    <MESSAGE value=\"JavaWeb的第一天\" />\r\n    <MESSAGE value=\"生命周期的测试\" />\r\n    <MESSAGE value=\"javaWeb第一天\" />\r\n    <MESSAGE value=\"javaWeb第二天\" />\r\n    <MESSAGE value=\"javaWeb第三天课前的练习\" />\r\n    <MESSAGE value=\"javaWeb第三天\" />\r\n    <MESSAGE value=\"javaWeb的学习\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"javaWeb的学习\" />\r\n  </component>\r\n  <component name=\"XDebuggerManager\">\r\n    <breakpoint-manager>\r\n      <breakpoints>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>jar://$PROJECT_DIR$/web/WEB-INF/lib/servlet-api.jar!/javax/servlet/GenericServlet.class</url>\r\n          <line>26</line>\r\n          <option name=\"timeStamp\" value=\"1\" />\r\n        </line-breakpoint>\r\n      </breakpoints>\r\n    </breakpoint-manager>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	
+++ b/.idea/workspace.xml	
@@ -6,15 +6,16 @@
     </artifacts-to-build>
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="a39ec80c-00bb-4d76-85ce-aec902506157" name="Changes" comment="javaWeb的学习">
-      <change afterPath="$PROJECT_DIR$/src/com/zzg/day03/test/AddStudentServlet.java" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/src/com/zzg/day03/test/GetStuServlet.java" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/src/com/zzg/day03/test/UpdataStuServlet.java" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/web/addstu.jsp" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/web/updata.jsp" afterDir="false" />
+    <list default="true" id="a39ec80c-00bb-4d76-85ce-aec902506157" name="Changes" comment="javaWeb的全套增删改查">
+      <change afterPath="$PROJECT_DIR$/src/com/zzg/day03/util/DAOUtil.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/inspectionProfiles/Project_Default.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/inspectionProfiles/Project_Default.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/com/zzg/day03/test/AddStudentServlet.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/com/zzg/day03/test/AddStudentServlet.java" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/src/com/zzg/day03/test/DelStudentServlet.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/com/zzg/day03/test/DelStudentServlet.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/web/stu.jsp" beforeDir="false" afterPath="$PROJECT_DIR$/web/stu.jsp" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/com/zzg/day03/test/GetStuServlet.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/com/zzg/day03/test/GetStuServlet.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/com/zzg/day03/test/StudentServlet.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/com/zzg/day03/test/StudentServlet.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/com/zzg/day03/test/UpdataStuServlet.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/com/zzg/day03/test/UpdateStuServlet.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/name" beforeDir="false" afterPath="$PROJECT_DIR$/src/name" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -39,6 +40,9 @@
       <filtered-out-file-type name="TAG" />
       <filtered-out-file-type name="COMMIT_BY_MESSAGE" />
     </file-type-list>
+  </component>
+  <component name="HighlightingSettingsPerFile">
+    <setting file="file://$PROJECT_DIR$/src/com/zzg/day03/test/AddStudentServlet.java" root0="FORCE_HIGHLIGHTING" />
   </component>
   <component name="LogFilters">
     <option name="FILTER_ERRORS" value="false" />
@@ -49,6 +53,9 @@
   </component>
   <component name="MarkdownSettingsMigration">
     <option name="stateVersion" value="1" />
+  </component>
+  <component name="ProblemsViewState">
+    <option name="selectedTabId" value="CurrentFile" />
   </component>
   <component name="ProjectId" id="21oagS7Qj9u30aolZO7amw5boFy" />
   <component name="ProjectLevelVcsManager" settingsEditedManually="true" />
@@ -182,7 +189,8 @@
       <workItem from="1638839266686" duration="6872000" />
       <workItem from="1638857171673" duration="18308000" />
       <workItem from="1638883836955" duration="1060000" />
-      <workItem from="1638923072423" duration="12816000" />
+      <workItem from="1638923072423" duration="13599000" />
+      <workItem from="1639028753055" duration="7771000" />
     </task>
     <task id="LOCAL-00001" summary="JavaWeb的第一天">
       <created>1638753446492</created>
@@ -268,7 +276,14 @@
       <option name="project" value="LOCAL" />
       <updated>1638923986975</updated>
     </task>
-    <option name="localTasksCounter" value="13" />
+    <task id="LOCAL-00013" summary="javaWeb的全套增删改查">
+      <created>1638942630449</created>
+      <option name="number" value="00013" />
+      <option name="presentableId" value="LOCAL-00013" />
+      <option name="project" value="LOCAL" />
+      <updated>1638942630449</updated>
+    </task>
+    <option name="localTasksCounter" value="14" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -294,7 +309,8 @@
     <MESSAGE value="javaWeb第三天课前的练习" />
     <MESSAGE value="javaWeb第三天" />
     <MESSAGE value="javaWeb的学习" />
-    <option name="LAST_COMMIT_MESSAGE" value="javaWeb的学习" />
+    <MESSAGE value="javaWeb的全套增删改查" />
+    <option name="LAST_COMMIT_MESSAGE" value="javaWeb的全套增删改查" />
   </component>
   <component name="XDebuggerManager">
     <breakpoint-manager>
Index: src/com/zzg/day03/test/GetStuServlet.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.zzg.day03.test;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.sql.*;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n/**\r\n * @Author: zzg\r\n * @Description: TODO\r\n * @DateTime: 2021/11/27 9:58\r\n */\r\n@WebServlet(\"/getStu\")\r\npublic class GetStuServlet extends HttpServlet {\r\n    @Override\r\n    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        req.getRequestDispatcher(\"UTF-8\");\r\n        String id = req.getParameter(\"id\");\r\n        String sql = \"select * from student where id =?\";\r\n        try {\r\n            Class.forName(\"com.mysql.cj.jdbc.Driver\");\r\n            Connection conn = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/hehe\", \"root\", \"1012\");\r\n            PreparedStatement ps = conn.prepareStatement(sql);\r\n            ps.setString(1, id);\r\n            ResultSet rs = ps.executeQuery();\r\n            ResultSetMetaData md = rs.getMetaData();\r\n            List<Map> list = new ArrayList<>();\r\n            while (rs.next()) {\r\n                Map map = new HashMap();\r\n                for (int i = 0; i < md.getColumnCount(); i++) {\r\n                    map.put(md.getColumnName(i + 1), rs.getObject(i + 1));\r\n                }\r\n                list.add(map);\r\n            }\r\n            conn.close();\r\n            if (list.size()>0){\r\n                req.setAttribute(\"stu\", list.get(0));\r\n                req.getRequestDispatcher(\"updata.jsp\").forward(req, resp);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/com/zzg/day03/test/GetStuServlet.java b/src/com/zzg/day03/test/GetStuServlet.java
--- a/src/com/zzg/day03/test/GetStuServlet.java	
+++ b/src/com/zzg/day03/test/GetStuServlet.java	
@@ -1,14 +1,13 @@
 package com.zzg.day03.test;
 
+import com.zzg.day03.util.DAOUtil;
+
 import javax.servlet.ServletException;
 import javax.servlet.annotation.WebServlet;
 import javax.servlet.http.HttpServlet;
 import javax.servlet.http.HttpServletRequest;
 import javax.servlet.http.HttpServletResponse;
 import java.io.IOException;
-import java.sql.*;
-import java.util.ArrayList;
-import java.util.HashMap;
 import java.util.List;
 import java.util.Map;
 
@@ -24,30 +23,12 @@
         req.getRequestDispatcher("UTF-8");
         String id = req.getParameter("id");
         String sql = "select * from student where id =?";
-        try {
-            Class.forName("com.mysql.cj.jdbc.Driver");
-            Connection conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/hehe", "root", "1012");
-            PreparedStatement ps = conn.prepareStatement(sql);
-            ps.setString(1, id);
-            ResultSet rs = ps.executeQuery();
-            ResultSetMetaData md = rs.getMetaData();
-            List<Map> list = new ArrayList<>();
-            while (rs.next()) {
-                Map map = new HashMap();
-                for (int i = 0; i < md.getColumnCount(); i++) {
-                    map.put(md.getColumnName(i + 1), rs.getObject(i + 1));
-                }
-                list.add(map);
-            }
-            conn.close();
-            if (list.size()>0){
-                req.setAttribute("stu", list.get(0));
-                req.getRequestDispatcher("updata.jsp").forward(req, resp);
-            }
+        List<Map> list = DAOUtil.query(sql,id);
+        if (list.size() > 0) {
+            req.setAttribute("stu", list.get(0));
+            req.getRequestDispatcher("updata.jsp").forward(req, resp);
+        }
 
-        } catch (Exception e) {
-            e.printStackTrace();
-        }
 
     }
 }
Index: src/com/zzg/day03/test/StudentServlet.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.zzg.day03.test;\r\n\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.sql.*;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n/**\r\n * @Author: zzg\r\n * @Description: 我的第一次小测试\r\n * @DateTime: 2021/11/27 9:58\r\n */\r\n@WebServlet(\"/s\")\r\npublic class StudentServlet extends HttpServlet {\r\n    @Override\r\n    public void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        try {\r\n            Class.forName(\"com.mysql.cj.jdbc.Driver\");\r\n            Connection conn = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/hehe\", \"root\", \"1012\");\r\n            PreparedStatement ps = conn.prepareStatement(\"select * from student\");\r\n            ResultSet rs = ps.executeQuery();\r\n            ResultSetMetaData md = rs.getMetaData();\r\n            List<Map> list = new ArrayList<>();\r\n            while (rs.next()) {\r\n                Map map = new HashMap();\r\n                for (int i = 0; i < md.getColumnCount(); i++) {\r\n                    map.put(md.getColumnName(i + 1), rs.getObject(i + 1));\r\n                }\r\n                list.add(map);\r\n            }\r\n            conn.close();\r\n            req.setAttribute(\"stu\", list);\r\n            req.getRequestDispatcher(\"stu.jsp\").forward(req, resp);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/com/zzg/day03/test/StudentServlet.java b/src/com/zzg/day03/test/StudentServlet.java
--- a/src/com/zzg/day03/test/StudentServlet.java	
+++ b/src/com/zzg/day03/test/StudentServlet.java	
@@ -1,14 +1,13 @@
 package com.zzg.day03.test;
 
+import com.zzg.day03.util.DAOUtil;
+
 import javax.servlet.ServletException;
 import javax.servlet.annotation.WebServlet;
 import javax.servlet.http.HttpServlet;
 import javax.servlet.http.HttpServletRequest;
 import javax.servlet.http.HttpServletResponse;
 import java.io.IOException;
-import java.sql.*;
-import java.util.ArrayList;
-import java.util.HashMap;
 import java.util.List;
 import java.util.Map;
 
@@ -21,25 +20,13 @@
 public class StudentServlet extends HttpServlet {
     @Override
     public void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
-        try {
-            Class.forName("com.mysql.cj.jdbc.Driver");
-            Connection conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/hehe", "root", "1012");
-            PreparedStatement ps = conn.prepareStatement("select * from student");
-            ResultSet rs = ps.executeQuery();
-            ResultSetMetaData md = rs.getMetaData();
-            List<Map> list = new ArrayList<>();
-            while (rs.next()) {
-                Map map = new HashMap();
-                for (int i = 0; i < md.getColumnCount(); i++) {
-                    map.put(md.getColumnName(i + 1), rs.getObject(i + 1));
-                }
-                list.add(map);
-            }
-            conn.close();
-            req.setAttribute("stu", list);
-            req.getRequestDispatcher("stu.jsp").forward(req, resp);
-        } catch (Exception e) {
-            e.printStackTrace();
-        }
+        String sql = "select * from student";
+
+        List<Map> list = DAOUtil.query(sql);
+
+        req.setAttribute("stu", list);
+
+        req.getRequestDispatcher("stu.jsp").forward(req, resp);
+
     }
 }
